name: Send to Discord Webhook

on:
  schedule:
    # Trigger at 12pm every day in AEST (UTC+10)
    - cron: '0 2 * * *'  # 12:00 PM AEST is 2:00 AM UTC
  push:
    branches:
      - manual  # Trigger on push to 'manual' branch

jobs:
  send-discord:
    runs-on: ubuntu-latest
    steps:
      - name: Send message to Discord Webhook
        env:
          DISCORD_WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }}
        run: |
          curl -X POST -H "Content-Type: application/json" \
            -d '{"content": "Hello from GitHub Actions!"}' \
            $DISCORD_WEBHOOK_URL
